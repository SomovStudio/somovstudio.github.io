<!DOCTYPE html>
<html>
<head>
	<title>Web-Test</title>
	
	<style>
.advanced-parallax {
  width: 1024px;
  height: 768px;
  overflow: hidden;
  border-radius: 15px;
  position: relative;
}

.parallax-content {
  width: 100%;
  height: 100%;
  transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
}

.parallax-content img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.2s ease-out;
}

.advanced-parallax:hover .parallax-content {
  transform: scale(1.05);
}
</style>
	
</head>
<body>

  <div class="advanced-parallax">
    <div class="parallax-content">
      <img src="./img/your-image.jpg" alt="Advanced Parallax">
    </div>
  </div>

<script>
class AdvancedImageParallax {
  constructor(element) {
    this.element = element;
    this.content = element.querySelector('.parallax-content');
    this.img = element.querySelector('img');
    this.bounds = element.getBoundingClientRect();
    
    this.mouse = {
      x: 0,
      y: 0
    };
    
    this.init();
  }
  
  init() {
    this.element.addEventListener('mousemove', this.onMouseMove.bind(this));
    this.element.addEventListener('mouseleave', this.onMouseLeave.bind(this));
    this.element.addEventListener('mouseenter', this.onMouseEnter.bind(this));
    
    // Запускаем анимацию
    this.animate();
  }
  
  onMouseMove(e) {
    const rect = this.element.getBoundingClientRect();
    this.mouse.x = (e.clientX - rect.left) / rect.width;
    this.mouse.y = (e.clientY - rect.top) / rect.height;
  }
  
  onMouseLeave() {
    this.mouse.x = 0.5;
    this.mouse.y = 0.5;
  }
  
  onMouseEnter() {
    this.bounds = this.element.getBoundingClientRect();
  }
  
  animate() {
    // Вычисляем смещение
    const tiltX = (this.mouse.y - 0.5) * 15;
    const tiltY = (this.mouse.x - 0.5) * -15;
    
    const moveX = (this.mouse.x - 0.5) * 20;
    const moveY = (this.mouse.y - 0.5) * 20;
    
    // Применяем трансформации
    this.img.style.transform = `
      translate(${moveX}px, ${moveY}px)
      rotateX(${tiltX}deg)
      rotateY(${tiltY}deg)
    `;
    
    requestAnimationFrame(this.animate.bind(this));
  }
}

// Инициализация
document.addEventListener('DOMContentLoaded', () => {
  const parallaxElements = document.querySelectorAll('.advanced-parallax');
  parallaxElements.forEach(el => new AdvancedImageParallax(el));
});
</script>

</body>
</html>